## 使用阿里云服务器

### 一、购买云服务器 ECS 的流程演示

我们在阿里云官方站点上找到“云服务器 ECS”产品。我将演示通过购买流程来讲解如何配置云服务器。如果您是新用户，可以优先考虑免费试用。

**1. 区域与网络选择**

* **计费模式：** 选择“包年包月”或“按量付费”。
* **区域选择：** 在不同的区域中选择，可以根据您的用户群地理位置或个人偏好来选择，甚至可以购买国外的服务器。例如，我们选择“北京”区域。
* **网络类型：** 默认选择专有网络。

**2. 实例规格与配置**

* **规格选择：** 根据需求选择合适的 CPU 和内存配置，例如 4 核 CPU、8G 内存等。可以根据需求选择性能增强型或通用算力型等不同的型号。

**3. 镜像（操作系统）选择**

* 购买云服务器时，它通过镜像文件直接安装到服务器硬盘上，服务器即可启动。选择镜像就是选择您的操作系统。
* 我们可以选择流行的 **Ubuntu**（例如 22.04 版本），或者选择阿里云自己的 **Alibaba Cloud Linux** 版本。

**4. 存储、公网 IP 与安全组**

* **数据盘：** 可以选择添加更多的数据盘。
* **公网 IP 地址：** 建议直接分配公网 IP 地址，这是最简单的实验方式。
* **安全组（防火墙）：** 安全组用于控制入站和出站的访问规则。对于入站（进口）访问，我们至少需要开放以下端口：
    * **SSH (22 号端口)：** 必须开放，以允许远程登录管理服务器。
    * **网页服务端口（如 80 或 443）：** 根据需要开放，用于部署 Web 服务，如 NGINX。
    * 其他端口（如 MQTT 端口）可以在后续配置中添加。

**5. 登录方式**

* **自定义密码：** 最简单的方式，直接为 `root` 用户设置登录密码。普通用户可以在登录后用 `root` 账户创建。
* **密钥对登录：** 更安全的方式，可以创建密钥对进行登录。

**6. 确认与支付**

* 确认购买台数和包年包月的折扣（例如五年 3.9 折）。
* 勾选服务条款，确认下单并付款。

### 二、远程连接与管理

购买流程完成后，您就可以通过控制台查看和管理您的云服务器实例。

**1. 阿里云控制台连接（不常用）**

* 在实例列表中，点击进入您的服务器，可以找到“远程连接”选项。
* 它会提供一个类似 **Workbench** 的连接方式，相当于您坐在电脑前通过控制台登录。
* **注意：** 这种方式通常只在远程 SSH 登录失败，且服务器无法通过常规方式（如重启）解决时才使用。

**2. 专业工具远程登录（推荐）**

通常我们使用专业的 SSH 客户端进行远程登录，例如 **MobaXterm** 或 **PuTTY**。

* **登录要素：**
    * **远程服务器地址（公网 IP）**
    * **端口（默认为 22）**
    * **用户名（通常是 root）**
    * **密码** 或 **私钥**

**3. 权限管理**

* 成功登录后，你可以切换到根用户（超级用户）权限，例如使用 `sudo -i` 或 `su -` 命令。
* **最佳实践：** 不建议一上来就直接使用 `root` 用户登录。应使用普通用户登录，然后在需要执行高权限操作时，使用 `sudo` 命令临时提权。